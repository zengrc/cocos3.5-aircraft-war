System.register("chunks:///_virtual/contant.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){var n,e,A,t;E({GAME_EVENT:void 0,GAME_MUSIC:void 0,PLAY_EVENT:void 0,RESOURCE_LOAD_EVENT:void 0}),_._RF.push({},"07a71JkhnNDFrn6XA+sZ8cU","contant",void 0),function(E){E.BACK_MENU="BACK_MENU",E.START_GAME="START_GAME",E.GAME_OVER="GAME_OVER"}(n||(n=E("GAME_EVENT",{}))),function(E){E.INIT="INIT",E.PAUSE="PAUSE",E.RESUME="RESUME"}(e||(e=E("PLAY_EVENT",{}))),function(E){E.PRELOAD="preload"}(A||(A=E("RESOURCE_LOAD_EVENT",{}))),function(E){E.BG="game_music",E.SHOT="bullet",E.CRASH_1="enemy1_down",E.CRASH_2="enemy2_down",E.CRASH_3="enemy3_down",E.UFO_FLYING="big_spaceship_flying",E.GET_BOMB="get_bomb",E.UPGRADE_DOUBLE_SHOT="get_double_laser",E.USE_BOMB="use_bomb",E.GAME_OVER="game_over"}(t||(t=E("GAME_MUSIC",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyController.ts",["cc","./contant.ts","./_rollupPluginModLoBabelHelpers.js","./AudioManagement.ts","./GameManagement.ts"],(function(i){"use strict";var t,e,n,s,o,h,a,r,c,p,_,m,d,l,g,u,f;return{setters:[function(i){t=i.cclegacy,e=i._decorator,n=i.director,s=i.Sprite,o=i.UITransform,h=i.Animation,a=i.BoxCollider2D,r=i.Size,c=i.Vec3,p=i.Component},function(i){_=i.GAME_MUSIC},function(i){m=i.inheritsLoose,d=i.extends,l=i.defineProperty,g=i.assertThisInitialized},function(i){u=i.AudioManagement},function(i){f=i.GameManagement}],execute:function(){var y,C;i({Enemy_Event:void 0,Enemy_Type:void 0}),t._RF.push({},"0c8115pcv5G9aig5ouZagy0","EnemyController",void 0);var v,A,H=e.ccclass;e.property;!function(i){i[i.plane=0]="plane",i[i.helicopter=1]="helicopter",i[i.UFO=2]="UFO"}(v||(v=i("Enemy_Type",{}))),function(i){i.crash="crash"}(A||(A=i("Enemy_Event",{})));var S=i("Enemy_Config",((y={})[v.plane]={spriteFrameName:"enemy1",crashAnimateName:"PlaneCrash",hitAnimateName:"",crashSound:_.CRASH_1,score:1,width:25,height:20,speed:120,crashHit:2,randomSpeedDiff:50},y[v.helicopter]={spriteFrameName:"enemy2",crashAnimateName:"HelicopterCrash",hitAnimateName:"HelicopterHit",crashSound:_.CRASH_2,width:35,score:8,height:45,speed:80,crashHit:4,randomSpeedDiff:20},y[v.UFO]={spriteFrameName:"enemy3_n1",crashAnimateName:"UFOCrash",hitAnimateName:"UFOHit",crashSound:_.CRASH_3,score:20,width:80,height:120,speed:50,crashHit:8,randomSpeedDiff:0},y));i("EnemyController",H("EnemyController")(C=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return t=i.call.apply(i,[this].concat(n))||this,l(g(t),"_sprite",void 0),l(g(t),"_uiTransform",void 0),l(g(t),"_type",null),l(g(t),"_pos",new c),l(g(t),"_iniPos",0),l(g(t),"_parentW",0),l(g(t),"_parentH",0),l(g(t),"_speed",0),l(g(t),"_config",null),l(g(t),"_animation",null),l(g(t),"_boxCollider",null),l(g(t),"_curHit",0),l(g(t),"_gm",void 0),l(g(t),"isCrash",!1),t}m(t,i);var e=t.prototype;return e.start=function(){var i;this._gm=null===(i=n.getScene().getChildByName("GameManagement"))||void 0===i?void 0:i.getComponent(f),this._sprite=this.node.getComponent(s),this._uiTransform=this.node.getComponent(o),this._animation=this.node.getComponent(h),this._boxCollider=this.node.getComponent(a),this.node.getPosition(this._pos);var t=this.node.parent.getComponent(o).contentSize,e=t.width,r=t.height;this._parentH=r,this._parentW=e,this.setEnemy()},e.setConfig=function(i){var t=i.pos,e=i.type,n=i.speed;this._type=e,this._iniPos=t,this._speed=n||0},e.onHit=function(){var i;this.isCrash||(this._curHit+=1,this._config.hitAnimateName&&!(null===(i=this._animation.getState(this._config.hitAnimateName))||void 0===i?void 0:i.isPlaying)&&this._animation.play(this._config.hitAnimateName),this._animation&&this._curHit>=this._config.crashHit&&this.onCrash())},e.onCrash=function(){var i,t;this.isCrash||(this.isCrash=!0,this.node.emit(A.crash,this._config.score,this._type),this._animation.play(this._config.crashAnimateName),this._animation.once(h.EventType.FINISHED,this.onCrashAniFinish,this),null===(i=this._gm)||void 0===i||null===(t=i.getComponent(u))||void 0===t||t.playSound(this._config.crashSound))},e.onCrashAniFinish=function(){this.node.destroy()},e.setEnemy=function(){var i=S[this._type];this._config=d({},i,{speed:this._speed||i.speed}),this._uiTransform&&this._uiTransform.setContentSize(new r(this._config.width,this._config.height)),this._boxCollider&&(this._boxCollider.size=new r(this._config.width,this._config.height)),this._sprite&&(this._sprite.spriteFrame=this._sprite.spriteAtlas.spriteFrames[this._config.spriteFrameName]),this._pos.y=this._parentH/2+this._config.height/2,this._pos.x=this._iniPos,this.node.setPosition(this._pos)},e.update=function(i){if(!this.isCrash){var t=i*this._config.speed;this._pos.y-=t,this.node.setPosition(this._pos),this.checkDestory()}},e.checkDestory=function(){var i=-this._parentW/2,t=-i,e=-(this._parentH/2+this._config.height/2);(this._pos.x<i||this._pos.x>t||this._pos.y<e)&&(this.node.parent.removeChild(this.node),this.node.destroy())},t}(p))||C);t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManagement.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(o){"use strict";var e,t,i,a,s,u,n,r,c,p,l;return{setters:[function(o){e=o.cclegacy,t=o._decorator,i=o.AudioSource,a=o.assetManager,s=o.AudioClip,u=o.Component},function(o){n=o.applyDecoratedDescriptor,r=o.inheritsLoose,c=o.initializerDefineProperty,p=o.assertThisInitialized,l=o.defineProperty}],execute:function(){var M,_,d,h,f;e._RF.push({},"13457UD/stKSZmF4k7E27oX","AudioManagement",void 0);var y=t.ccclass,v=t.property;o("AudioManagement",(M=y("AudioManagement"),_=v({type:i}),M((f=n((h=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=o.call.apply(o,[this].concat(i))||this,c(p(e),"_sourceMap",f,p(e)),l(p(e),"_bundle",null),l(p(e),"_audioMap",{}),e}r(e,o);var t=e.prototype;return t.loadAudioSource=function(o){var e=this;this._sourceMap.bg_sound=this.node.addComponent(i),a.loadBundle("Audio",(function(t,i){e._bundle=i,e._bundle.loadDir("/",s,(function(e,t){o(e,t)}),(function(o,t){t.forEach((function(o){e._audioMap[o.name]=o}))}))}))},t.playSound=function(o){this._audioMap[o]&&this._sourceMap.bg_sound&&this._sourceMap.bg_sound.playOneShot(this._audioMap[o],1)},t.playMusic=function(o,e,t){if(void 0===t&&(t=!0),this._audioMap[e])return this._sourceMap[o]||(this._sourceMap[o]=this.node.addComponent(i)),this._sourceMap[o].loop=t,this._sourceMap[o].playOnAwake=!1,this._sourceMap[o].clip=this._audioMap[e],this._sourceMap[o].play(),this._sourceMap[o]},t.destroyMusic=function(o){if(this._sourceMap[o]){this._sourceMap[o].stop();var e=this._sourceMap[o];this._sourceMap[o]=void 0,e.destroy()}},t.pauseAllMusic=function(){var o=this;Object.keys(this._sourceMap).forEach((function(e){o._sourceMap[e]&&o._sourceMap[e].pause()}))},t.stopAllMusic=function(){var o=this;Object.keys(this._sourceMap).forEach((function(e){o._sourceMap[e]&&o._sourceMap[e].stop()}))},t.resumeAllMusic=function(){var o=this;Object.keys(this._sourceMap).forEach((function(e){o._sourceMap[e]&&o._sourceMap[e].play()}))},e}(u)).prototype,"_sourceMap",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=h))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/EndManagement.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameManagement.ts"],(function(e){"use strict";var t,n,r,i,a,o,c,s,u,l,m;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Label,i=e.director,a=e.Component},function(e){o=e.applyDecoratedDescriptor,c=e.inheritsLoose,s=e.defineProperty,u=e.assertThisInitialized,l=e.initializerDefineProperty},function(e){m=e.GameManagement}],execute:function(){var g,p,d,h,f;t._RF.push({},"15b4e03G1BHMb98hmPh9r7d","EndManagement",void 0);var v=n.ccclass,y=n.property;e("EndManagement",(g=v("EndManagement"),p=y({type:r}),g((f=o((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s(u(t),"_gm",void 0),l(u(t),"Score",f,u(t)),t}c(t,e);var n=t.prototype;return n.start=function(){var e;this._gm=null===(e=i.getScene().getChildByName("GameManagement"))||void 0===e?void 0:e.getComponent(m),this.Score&&this._gm&&(this.Score.getComponent(r).string="总分："+this._gm.score)},n.backToMenu=function(){var e;null===(e=this._gm)||void 0===e||e.toMenu()},n.restartGame=function(){var e;null===(e=this._gm)||void 0===e||e.startGame()},t}(a)).prototype,"Score",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayManagement.ts",["cc","./contant.ts","./_rollupPluginModLoBabelHelpers.js","./AudioManagement.ts","./GameManagement.ts","./EnemyController.ts","./BonusController.ts","./PlayerController.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,u,l,h,m,c,p,y,g,f,d,b,_,v,C,B,M,E,P,S;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Node,i=t.Prefab,r=t.Label,a=t.director,s=t.UITransform,u=t.instantiate,l=t.Component},function(t){h=t.PLAY_EVENT,m=t.GAME_MUSIC},function(t){c=t.applyDecoratedDescriptor,p=t.inheritsLoose,y=t.defineProperty,g=t.assertThisInitialized,f=t.initializerDefineProperty,d=t.createClass},function(t){b=t.AudioManagement},function(t){_=t.GameManagement},function(t){v=t.Enemy_Type,C=t.Enemy_Config,B=t.Enemy_Event,M=t.EnemyController},function(t){E=t.BONUS_TYPE,P=t.BonusController},function(t){S=t.Hero_Event}],execute:function(){var w,G,O,U,z,k,L,H,F,A,T,D,N,I,R,W,Y,j,x,J,V,q,K,Q,X;e._RF.push({},"18256Ok8oJO26aPI1fmyChM","PlayManagement",void 0);var Z,$=n.ccclass,tt=n.property;!function(t){t[t.start=0]="start",t[t.pause=1]="pause",t[t.resume=2]="resume"}(Z||(Z={}));t("PlayManagement",(w=$("PlayManagement"),G=tt({type:o}),O=tt({type:o}),U=tt({type:i}),z=tt({type:o}),k=tt({type:i}),L=tt({type:o}),H=tt({type:o}),F=tt({type:o}),A=tt({type:o}),T=tt({type:o}),D=tt({type:r}),w((R=c((I=function(t){function e(){for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,y(g(n),"_status",void 0),y(g(n),"_playW",0),y(g(n),"_playH",0),y(g(n),"_scoreLabel",null),y(g(n),"_gm",void 0),y(g(n),"_enemyCount",((e={})[v.plane]=0,e[v.helicopter]=0,e[v.UFO]=0,e)),f(g(n),"Mask",R,g(n)),f(g(n),"EnemyGroup",W,g(n)),f(g(n),"Enemy",Y,g(n)),f(g(n),"BonusGroup",j,g(n)),f(g(n),"Bonus",x,g(n)),f(g(n),"Score",J,g(n)),f(g(n),"Hero",V,g(n)),f(g(n),"Playground",q,g(n)),f(g(n),"PauseBtn",K,g(n)),f(g(n),"BombBtn",Q,g(n)),f(g(n),"BombCount",X,g(n)),n}p(e,t);var n=e.prototype;return n.start=function(){var t,e,n,i;this._gm=null===(t=a.getScene().getChildByName("GameManagement"))||void 0===t?void 0:t.getComponent(_),this._score=0,this._bombCount=0,this.switchPlayStatus(Z.start),this.PauseBtn&&(this.PauseBtn.on(h.PAUSE,this.pauseGame,this),this.PauseBtn.on(h.RESUME,this.resumeGame,this)),this.Hero&&(this.Hero.on(S.crash,this.gameOver,this),this.Hero.on(S.bonus,this.getBonus,this));var r=(null===(e=this.Playground)||void 0===e||null===(n=e.getComponent(s))||void 0===n?void 0:n.contentSize)||{},u=r.width,l=r.height;this._playH=l||0,this._playW=u||0,null===(i=this.BombBtn)||void 0===i||i.on(o.EventType.TOUCH_END,this.useBomb,this)},n.switchPlayStatus=function(t){if(this._status!==t)switch(this._status=t,t){case Z.start:this.Mask&&(this.Mask.active=!1),this.updateScoreLabel(),this.schedule(this.generateBonus,20),this.schedule(this.generateEnemies,2);break;case Z.pause:this.Mask&&(this.Mask.active=!0),a.pause();break;case Z.resume:this.Mask&&(this.Mask.active=!1),a.resume()}},n.updateScoreLabel=function(){this.Score&&(this._scoreLabel||(this._scoreLabel=this.Score.getComponent(r)),this._scoreLabel&&(this._scoreLabel.string=""+this._score))},n.generateBonus=function(){if(this.Bonus){var t=[E.doubleShoot,E.bomb][Math.floor(2*Math.random())],e=u(this.Bonus),n=this._playW-e.getComponent(s).contentSize.width,o=Math.floor(Math.random()*n)-n/2;e.getComponent(P).setBonus({type:t,pos:o}),(this.BonusGroup||this.Playground).addChild(e)}},n.generateEnemies=function(){if(this.Enemy){var t,e=[v.UFO,v.plane,v.helicopter][Math.floor(3*Math.random())],n=C[e],o=this._playW-n.width,i=Math.floor(Math.random()*o)-o/2,r=Math.floor(Math.random()*n.randomSpeedDiff*2)-n.randomSpeedDiff,a=u(this.Enemy);if(a.on(B.crash,this.onEnemyCrash,this),a.getComponent(M).setConfig({type:e,pos:i,speed:r+n.speed}),(this.EnemyGroup||this.Playground).addChild(a),e===v.UFO&&0===this._enemyCount[e])console.log("play big ship flying"),null===(t=this._gm)||void 0===t||t.getComponent(b).playMusic("UFO_flying",m.UFO_FLYING);this._enemyCount[e]+=1}},n.onEnemyCrash=function(t,e){var n;(this._score+=t,this.updateScoreLabel(),this._enemyCount[e]=this._enemyCount[e]-1<0?0:this._enemyCount[e]-1,e===v.UFO&&0===this._enemyCount[e])&&(null===(n=this._gm)||void 0===n||n.getComponent(b).destroyMusic("UFO_flying"))},n.getBonus=function(t){var e,n,o,i;t===E.bomb?(this._bombCount+=1,null===(e=this._gm)||void 0===e||null===(n=e.getComponent(b))||void 0===n||n.playSound(m.GET_BOMB)):null===(o=this._gm)||void 0===o||null===(i=o.getComponent(b))||void 0===i||i.playSound(m.UPGRADE_DOUBLE_SHOT)},n.pauseGame=function(){var t,e;null===(t=this._gm)||void 0===t||null===(e=t.getComponent(b))||void 0===e||e.pauseAllMusic(),this.switchPlayStatus(Z.pause)},n.resumeGame=function(){var t,e;null===(t=this._gm)||void 0===t||null===(e=t.getComponent(b))||void 0===e||e.resumeAllMusic(),this.switchPlayStatus(Z.resume)},n.gameOver=function(){var t;null===(t=this._gm)||void 0===t||t.gameOver()},n.useBomb=function(){var t,e,n;this._bombCount<=0||(this._bombCount-=1,null===(t=this._gm)||void 0===t||null===(e=t.getComponent(b))||void 0===e||e.playSound(m.USE_BOMB),null===(n=this.EnemyGroup)||void 0===n||n.children.forEach((function(t){var e;null===(e=t.getComponent(M))||void 0===e||e.onCrash()})))},d(e,[{key:"_bombCount",get:function(){var t;return+(null===(t=this.BombCount)||void 0===t?void 0:t.string)},set:function(t){this.BombCount&&(this.BombCount.string=""+t)}},{key:"_score",get:function(){var t;return(null===(t=this._gm)||void 0===t?void 0:t.score)||0},set:function(t){this._gm&&(this._gm.score=t)}}]),e}(l)).prototype,"Mask",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=c(I.prototype,"EnemyGroup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=c(I.prototype,"Enemy",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=c(I.prototype,"BonusGroup",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=c(I.prototype,"Bonus",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=c(I.prototype,"Score",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=c(I.prototype,"Hero",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=c(I.prototype,"Playground",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=c(I.prototype,"PauseBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=c(I.prototype,"BombBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=c(I.prototype,"BombCount",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=I))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/PauseBtn.ts",["cc","./contant.ts","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var s,e,i,r,n,a,p,o,u;return{setters:[function(t){s=t.cclegacy,e=t._decorator,i=t.Button,r=t.Sprite,n=t.Component},function(t){a=t.PLAY_EVENT},function(t){p=t.inheritsLoose,o=t.defineProperty,u=t.assertThisInitialized}],execute:function(){var h;s._RF.push({},"2077ay1v7FKbYW9O1ANmjFg","PauseBtn",void 0);var l,c=e.ccclass;e.property;!function(t){t[t.playing=0]="playing",t[t.pause=1]="pause"}(l||(l={}));t("PauseBtn",c("PauseBtn")(h=function(t){function s(){for(var s,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return s=t.call.apply(t,[this].concat(i))||this,o(u(s),"_status",l.playing),o(u(s),"_btn",void 0),o(u(s),"_spriteAtlas",void 0),s}p(s,t);var e=s.prototype;return e.start=function(){var t;this._btn=this.getComponent(i),this._spriteAtlas=null===(t=this.getComponent(r))||void 0===t?void 0:t.spriteAtlas,this.switchSpriteFrame()},e.switchSpriteFrame=function(){var t={};if(t[l.playing]={normal:"game_pause_nor",pressed:"game_pause_pressed"},t[l.pause]={normal:"game_resume_nor",pressed:"game_resume_pressed"},this._btn&&this._spriteAtlas){var s=t[this._status];this._btn.normalSprite=this._spriteAtlas.spriteFrames[s.normal],this._btn.hoverSprite=this._spriteAtlas.spriteFrames[s.pressed],this._btn.pressedSprite=this._spriteAtlas.spriteFrames[s.pressed]}},e.onClick=function(){this._status===l.playing?(this._status=l.pause,this.switchSpriteFrame(),this.node.emit(a.PAUSE)):(this._status=l.playing,this.switchSpriteFrame(),this.node.emit(a.RESUME))},s}(n))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusController.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,o,s,i,n,r,h,p,l,a;return{setters:[function(t){e=t.cclegacy,o=t._decorator,s=t.Sprite,i=t.BoxCollider2D,n=t.UITransform,r=t.Vec3,h=t.Component},function(t){p=t.inheritsLoose,l=t.defineProperty,a=t.assertThisInitialized}],execute:function(){var _,u;t("BONUS_TYPE",void 0),e._RF.push({},"49f9dXYRvlIhbZT0vHGVwIB","BonusController",void 0);var c,d=o.ccclass;o.property;!function(t){t[t.bomb=0]="bomb",t[t.doubleShoot=1]="doubleShoot"}(c||(c=t("BONUS_TYPE",{})));var v=((_={})[c.bomb]="ufo2",_[c.doubleShoot]="ufo1",_);t("BonusController",d("BonusController")(u=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s))||this,l(a(e),"type",void 0),l(a(e),"_sprite",void 0),l(a(e),"_pos",new r),l(a(e),"_iniPos",0),l(a(e),"_speed",60),l(a(e),"_boxCollider",null),l(a(e),"size",null),l(a(e),"_parentW",0),l(a(e),"_parentH",0),e}p(e,t);var o=e.prototype;return o.setBonus=function(t){var e=t.pos,o=t.type;this.type=o,this._iniPos=e},o.start=function(){this._sprite=this.node.getComponent(s),this._boxCollider=this.node.getComponent(i),this.node.getPosition(this._pos),this.size=this.node.getComponent(n).contentSize;var t=this.node.parent.getComponent(n).contentSize,e=t.width,o=t.height;this._parentH=o,this._parentW=e,this._sprite&&(this._sprite.spriteFrame=this._sprite.spriteAtlas.spriteFrames[v[this.type]]),this._pos.y=this._parentH/2+this.size.height/2,this._pos.x=this._iniPos,this.node.setPosition(this._pos)},o.update=function(t){var e=t*this._speed;this._pos.y-=e,this.node.setPosition(this._pos),this.checkDestory()},o.checkDestory=function(){var t=-this._parentW/2,e=-t,o=-(this._parentH/2+this.size.height/2);(this._pos.x<t||this._pos.x>e||this._pos.y<o)&&(this.node.parent.removeChild(this.node),this.node.destroy())},e}(h))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./EnemyController.ts"],(function(t){"use strict";var e,n,o,s,i,r,a,h,p,c,l;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.UITransform,s=t.Collider2D,i=t.Contact2DType,r=t.Vec3,a=t.Component},function(t){h=t.inheritsLoose,p=t.defineProperty,c=t.assertThisInitialized},function(t){l=t.EnemyController}],execute:function(){var u;e._RF.push({},"5a68aRS6vxEYaK4jROMg9Sr","Bullet",void 0);var _=n.ccclass;n.property,t("Bullet",_("Bullet")(u=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,p(c(e),"_pos",new r),p(c(e),"_speed",600),p(c(e),"_parentW",0),p(c(e),"_parentH",0),p(c(e),"_boxCollider",null),e}h(e,t);var n=e.prototype;return n.start=function(){this.node.getPosition(this._pos);var t=this.node.parent.getComponent(o).contentSize,e=t.width,n=t.height;this._parentH=n,this._parentW=e,this._boxCollider=this.node.getComponent(s),this._boxCollider.on(i.BEGIN_CONTACT,this.onBeginContact,this)},n.onBeginContact=function(t,e,n){if("Enemy"===e.node.name){var o=e.getComponent(l);o.isCrash||(this.node.destroy(),o.onHit())}},n.update=function(t){var e=t*this._speed;this._pos.y+=e,this.node.setPosition(this._pos),this.checkDestory()},n.checkDestory=function(){(this._pos.x<-this._parentW/2||this._pos.x>this._parentW/2||this._pos.y<-this._parentH/2||this._pos.y>this._parentH/2)&&this.node.destroy()},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManagement.ts",["cc","./contant.ts","./_rollupPluginModLoBabelHelpers.js","./AudioManagement.ts"],(function(e){"use strict";var n,t,o,a,s,i,c,r,u,d,l;return{setters:[function(e){n=e.cclegacy,t=e._decorator,o=e.game,a=e.director,s=e.Component},function(e){i=e.RESOURCE_LOAD_EVENT,c=e.GAME_MUSIC},function(e){r=e.inheritsLoose,u=e.defineProperty,d=e.assertThisInitialized},function(e){l=e.AudioManagement}],execute:function(){var h;n._RF.push({},"5cf63os9dRH34yBw7rwNGS2","GameManagement",void 0);var g,m=t.ccclass;t.property;!function(e){e[e.start=0]="start",e[e.playing=1]="playing",e[e.end=2]="end"}(g||(g={}));var p="Game",f="Menu",_="End";e("GameManagement",m("GameManagement")(h=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,u(d(n),"score",0),u(d(n),"_isPreloadFinish",!1),u(d(n),"_loadingProcess",{audio:0,game_scene:0}),n}r(n,e);var t=n.prototype;return t.start=function(){var e=this;o.addPersistRootNode(this.node),this.onResourceLoad("init");var n=this.node.getComponent(l);n&&(null==n||n.loadAudioSource((function(n,t){e.onResourceLoad("audio",n,t)}))),a.preloadScene("Game",(function(n,t){e.onResourceLoad("game_scene",n,t)}),(function(e){e&&console.error(e)}))},t.onResourceLoad=function(e,n,t){"init"===e?(this._loadingProcess.audio=0,this._loadingProcess.game_scene=0):this._loadingProcess[e]=Math.round(n/t*50);var o=this._loadingProcess.audio+this._loadingProcess.game_scene;o>=100&&(console.log("preload completed"),this._isPreloadFinish=!0),this.node.emit(i.PRELOAD,o)},t.switchGameStatus=function(e){var n,t,o;if(this._isPreloadFinish)switch(e){case g.start:this.score=0,a.loadScene(f);break;case g.playing:this.score=0,a.loadScene(p),null===(n=this.node.getComponent(l))||void 0===n||n.playMusic("bgm",c.BG);break;case g.end:a.loadScene(_),null===(t=this.node.getComponent(l))||void 0===t||t.stopAllMusic(),null===(o=this.node.getComponent(l))||void 0===o||o.playSound(c.GAME_OVER)}},t.toMenu=function(){this.switchGameStatus(g.start)},t.startGame=function(){this.switchGameStatus(g.playing)},t.gameOver=function(){this.switchGameStatus(g.end)},n}(s))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/MenuManagement.ts",["cc","./contant.ts","./_rollupPluginModLoBabelHelpers.js","./GameManagement.ts"],(function(e){"use strict";var t,n,r,o,a,i,s,c,u,l,g,p,m;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Node,o=e.director,a=e.Label,i=e.Component},function(e){s=e.RESOURCE_LOAD_EVENT},function(e){c=e.applyDecoratedDescriptor,u=e.inheritsLoose,l=e.initializerDefineProperty,g=e.assertThisInitialized,p=e.defineProperty},function(e){m=e.GameManagement}],execute:function(){var f,d,h,y,v;t._RF.push({},"7c176wxZZhElLqbxcqxSXgQ","MenuManagement",void 0);var M=n.ccclass,P=n.property;e("MenuManagement",(f=M("MenuManagement"),d=P({type:r}),f((v=c((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l(g(t),"ProcessBar",v,g(t)),p(g(t),"_gm",void 0),t}u(t,e);var n=t.prototype;return n.start=function(){var e=this,t=o.getScene().getChildByName("GameManagement");this._gm=null==t?void 0:t.getComponent(m),t.on(s.PRELOAD,(function(t){e.ProcessBar&&(e.ProcessBar.getComponent(a).string=t+"%",t>=100&&e.ProcessBar.destroy())}))},n.onResourceLoad=function(e){this.ProcessBar.getComponent(a).string=e+"%"},n.startGame=function(){var e;null===(e=this._gm)||void 0===e||e.startGame()},t}(i)).prototype,"ProcessBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["cc","./contant.ts","./_rollupPluginModLoBabelHelpers.js","./AudioManagement.ts","./GameManagement.ts","./BonusController.ts"],(function(t){"use strict";var e,o,i,n,s,l,r,a,h,u,p,c,d,m,_,f,C,v,b,y,g,T,S,A;return{setters:[function(t){e=t.cclegacy,o=t._decorator,i=t.Prefab,n=t.Node,s=t.Vec3,l=t.director,r=t.UITransform,a=t.Sprite,h=t.Animation,u=t.Input,p=t.Collider2D,c=t.Contact2DType,d=t.instantiate,m=t.Component},function(t){_=t.GAME_MUSIC},function(t){f=t.applyDecoratedDescriptor,C=t.inheritsLoose,v=t.initializerDefineProperty,b=t.assertThisInitialized,y=t.defineProperty},function(t){g=t.AudioManagement},function(t){T=t.GameManagement},function(t){S=t.BonusController,A=t.BONUS_TYPE}],execute:function(){var F,P,M,E,w,B,G;t("Hero_Event",void 0),e._RF.push({},"93573ek3qdCjooQ+h7CSn/b","PlayerController",void 0);var H,N,x=o.ccclass,D=o.property;!function(t){t[t.normal=0]="normal",t[t.double=1]="double"}(H||(H={})),function(t){t.crash="crashed",t.bonus="getBonus"}(N||(N=t("Hero_Event",{})));t("PlayerController",(F=x("PlayerController"),P=D({type:i}),M=D({type:n}),F((B=f((w=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,v(b(e),"bullet",B,b(e)),v(b(e),"bulletGroup",G,b(e)),y(b(e),"_pos",new s),y(b(e),"_uiTransform",null),y(b(e),"_bulletlLevel",H.normal),y(b(e),"_spriteAtlas",null),y(b(e),"_boxCollider",null),y(b(e),"_animation",null),y(b(e),"_isCrash",!1),y(b(e),"_gm",void 0),e}C(e,t);var o=e.prototype;return o.start=function(){var t,e,o;this._gm=null===(t=l.getScene().getChildByName("GameManagement"))||void 0===t?void 0:t.getComponent(T),this._pos.x=0,this._pos.y=-300,this._pos.z=0,this.node.setPosition(this._pos),this._uiTransform=this.node.parent.getComponent(r),this._spriteAtlas=null===(e=this.node.getComponent(a))||void 0===e?void 0:e.spriteAtlas,this._animation=this.node.getComponent(h),null===(o=this._animation)||void 0===o||o.play("HeroFlying"),this.node.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this._boxCollider=this.node.getComponent(p),this._boxCollider.on(c.BEGIN_CONTACT,this.onBeginContact,this),this.startFire()},o.onBeginContact=function(t,e){var o=this;if(!this._isCrash)if("Enemy"===e.node.name)this.node.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this.cancelFire(),this._isCrash=!0,this._animation&&(this._animation.play("HeroCrash"),this._animation.once(h.EventType.FINISHED,(function(){var t,e;o.node.emit(N.crash),null===(t=o._gm)||void 0===t||null===(e=t.getComponent(g))||void 0===e||e.playSound(_.CRASH_1)})));else if("Bonus"===e.node.name){var i=e.node.getComponent(S);i.type===A.doubleShoot&&this.switchToDoubleShoot(),this.node.emit(N.bonus,i.type),e.node.destroy()}},o.onTouchMove=function(t){if(!this._isCrash||this._uiTransform){var e=t.getUILocation(),o=this._uiTransform.convertToNodeSpaceAR(new s(e.x,e.y,0));this._pos=o,this.node.setPosition(this._pos)}},o.switchToDoubleShoot=function(){this._bulletlLevel=H.double,this.unschedule(this.switchToNormalShoot),this.scheduleOnce(this.switchToNormalShoot,10)},o.switchToNormalShoot=function(){this._bulletlLevel=H.normal},o.fire=function(){var t,e;if(this._bulletlLevel===H.normal){var o=d(this.bullet),i=o.getComponent(a);this._spriteAtlas&&(i.spriteFrame=this._spriteAtlas.spriteFrames.bullet1),o.setPosition(this._pos.x,this._pos.y+50,0),(this.bulletGroup||this.node.parent).addChild(o)}else{var n=d(this.bullet),s=d(this.bullet),l=n.getComponent(a),r=s.getComponent(a);this._spriteAtlas&&(l.spriteFrame=this._spriteAtlas.spriteFrames.bullet2,r.spriteFrame=this._spriteAtlas.spriteFrames.bullet2),n.setPosition(this._pos.x-15,this._pos.y+50,0),s.setPosition(this._pos.x+15,this._pos.y+50,0),(this.bulletGroup||this.node.parent).addChild(n),(this.bulletGroup||this.node.parent).addChild(s)}null===(t=this._gm)||void 0===t||null===(e=t.getComponent(g))||void 0===e||e.playSound(_.SHOT)},o.startFire=function(){this.schedule(this.fire,.2)},o.cancelFire=function(){this.unschedule(this.fire)},e}(m)).prototype,"bullet",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=f(w.prototype,"bulletGroup",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=w))||E));e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./contant.ts","./AudioManagement.ts","./GameManagement.ts","./EnemyController.ts","./EndManagement.ts","./BonusController.ts","./PlayerController.ts","./PlayManagement.ts","./PauseBtn.ts","./Bullet.ts","./MenuManagement.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});